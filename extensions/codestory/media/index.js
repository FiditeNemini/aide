function l(e){document.readyState==="loading"||document.readyState==="uninitialized"?document.addEventListener("DOMContentLoaded",e):e()}var i=acquireVsCodeApi();function m(){let e=document.getElementById("simple-browser-settings");if(e){let t=e.getAttribute("data-settings");if(t)return JSON.parse(t)}throw new Error("Could not load settings")}var a=m(),d=document.querySelector("iframe#browser"),u="root",p=document.getElementById(u);if(!p)throw new Error(`Root node with id '${u} not found.`);var s=document.querySelector(".header"),r=s.querySelector(".url-input"),f=s.querySelector(".forward-button"),L=s.querySelector(".back-button"),E=s.querySelector(".reload-button"),w=s.querySelector(".open-external-button");window.addEventListener("message",e=>{switch(e.data.type){case"focus":{d.focus();break}case"didChangeFocusLockIndicatorEnabled":{g(e.data.enabled);break}}});l(()=>{setInterval(()=>{let t=document.activeElement?.tagName==="IFRAME";document.body.classList.toggle("iframe-focused",t)},50),d.addEventListener("load",()=>{window.addEventListener("message",t=>{if(t.isTrusted&&t.data.type==="location-change"){let n=new URL(t.data.location),c=new URL(a.url),o=new URL(a.originalUrl);n.host===c.host&&(o.pathname=n.pathname,o.search=n.search,o.hash=n.hash,r.value=o.href)}})}),r.addEventListener("change",t=>{let n=t.target.value;e(n)}),f.addEventListener("click",()=>{history.forward()}),L.addEventListener("click",()=>{history.back()}),w.addEventListener("click",()=>{i.postMessage({type:"openExternal",url:r.value})}),E.addEventListener("click",()=>{e(r.value)}),e(a.url,!0),r.value=a.originalUrl,g(a.focusLockIndicatorEnabled);function e(t,n=!1){try{let o=new URL(t);o.searchParams.append("vscodeBrowserReqId",Date.now().toString()),d.src=o.toString()}catch{d.src=t}let c={url:t,originalUrl:a.originalUrl};n||i.postMessage({type:"updateUrl",data:c}),i.setState(c)}});function g(e){document.body.classList.toggle("enable-focus-lock-indicator",e)}
