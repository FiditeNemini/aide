function u(e){document.readyState==="loading"||document.readyState==="uninitialized"?document.addEventListener("DOMContentLoaded",e):e()}var d=acquireVsCodeApi();function m(){let e=document.getElementById("simple-browser-settings");if(e){let t=e.getAttribute("data-settings");if(t)return JSON.parse(t)}throw new Error("Could not load settings")}var n=m(),r=document.querySelector("iframe#browser"),l="root",p=document.getElementById(l);if(!p)throw new Error(`Root node with id '${l} not found.`);var o=document.querySelector(".header"),a=o.querySelector(".url-input"),f=o.querySelector(".forward-button"),E=o.querySelector(".back-button"),y=o.querySelector(".reload-button"),b=o.querySelector(".open-external-button");window.addEventListener("message",e=>{switch(console.log(e),e.data.type){case"focus":{r.focus();break}case"didChangeFocusLockIndicatorEnabled":{g(e.data.enabled);break}}});u(()=>{setInterval(()=>{let t=document.activeElement?.tagName==="IFRAME";document.body.classList.toggle("iframe-focused",t)},50),r.addEventListener("load",()=>{}),a.addEventListener("change",t=>{let s=t.target.value;e(s)}),f.addEventListener("click",()=>{history.forward()}),E.addEventListener("click",()=>{history.back()}),b.addEventListener("click",()=>{d.postMessage({type:"openExternal",url:a.value})}),y.addEventListener("click",()=>{e(a.value)}),e(n.url,!0),a.value=n.originalUrl,g(n.focusLockIndicatorEnabled);function e(t,s=!1){try{let i=new URL(t);i.searchParams.append("vscodeBrowserReqId",Date.now().toString()),r.src=i.toString()}catch{r.src=t}let c={url:t,originalUrl:n.originalUrl};s||d.postMessage({type:"updateUrl",data:c}),d.setState(c)}});function g(e){document.body.classList.toggle("enable-focus-lock-indicator",e)}
